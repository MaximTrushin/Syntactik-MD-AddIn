<?xml version="1.0" encoding="utf-8" ?>
<SyntaxMode name = "syntactik4xml" mimeTypes="text/x-syntactik4xml">

  <!-- single line comment -->
  <EolSpan color = "Comment(Line)" rule="comment">'''</EolSpan>
  <!-- multi line comment -->
  <Span color = "Comment(Line)"  rule="comment">
    <Begin>"""</Begin>
    <End>"""</End>
  </Span>

<!-- wsa -->
<Span color = "Punctuation" rule ="wsa">
  <Begin>(</Begin>
  <End>)</End>
</Span>

  
<Match color = "Punctuation">:=</Match>  
    
<!-- delimiters >
<Span color = "Punctuation" rule ="delimiter">
  <Begin>:=</Begin>
  <End></End>
</Span-->
  
  <Match color = "Punctuation">::</Match>
  <Match color = "Punctuation">:</Match>
  <Match color = "Punctuation">=::</Match>
  <Match color = "Punctuation">=:</Match>

<!-- open string -->
    
<Span color = "Punctuation" rule ="open_string">
  <Begin>==</Begin>
</Span>

<Rule name = "open_string">
  <Match color = "String">([^=:()'&quot;,]*)</Match>

    <!-- single line comment -->
  <EolSpan color = "Comment(Line)" rule="comment">'''</EolSpan>
  <!-- multi line comment -->
  <Span color = "Comment(Line)" rule="comment">
    <Begin>"""</Begin>
    <End>"""</End>
  </Span>
  
</Rule>  
  
<Rule name = "sl_open_string">
  <Match color = "String">([^=:()'&quot;,]*)</Match>

    <!-- single line comment -->
  <EolSpan color = "Comment(Line)" rule="comment">'''</EolSpan>
  <!-- multi line comment -->
  <Span color = "Comment(Line)" rule="comment">
    <Begin>"""</Begin>
    <End>"""</End>
  </Span>
  
</Rule>    
  
  
<!-- free open string -->
<Span color = "Punctuation" rule ="free_open_string">
  <Begin>=</Begin>
</Span>

<Rule name = "free_open_string">
  <Match color = "String">(.*)</Match>
</Rule>  

  
  
  <!-- open string -->
  <Match expression="(\s*==\s*)([^=:()'&quot;,]*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <!-- free open string -->
  <Match expression="(\s*=\s*)(.*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <!-- sq name -->
  <Match color = "Keyword(Type)">'(?:\\.|.)*?(?:'|$)</Match>
  <!-- dq name -->
  <Match color = "Keyword(Type)">".*?(?:"|$)</Match>


  <!-- document name -->
  <Match color = "User Types">\s*![^=:()'",]*</Match>

  <!-- alias -->
  <Match color = "Diff Header">\s*\$[^=:()'",]*</Match>

  <!--
  <Match expression="(\#[\w\.\-]+)(\s*=)(.*)">
    <Group color = "Keyword(Declaration)"/>
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <Match expression="(#[\w\-]+.)">
    <Group color = "Keyword(Declaration)"/>
  </Match>

  <Match expression="(\@[\w\.\-]*)">
    <Group color = "String(Escape)"/>
  </Match>

  <Match expression="(\%[\w\.\-]*)">
    <Group color = "Keyword(Exception)"/>
  </Match>
  
  <Match expression="(=\s*)(`[^\s]*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <Match expression="(=\s*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>
-->

  <!-- open name -->
  <Match color = "Keyword(Type)">\s*[^=:()'",]+</Match>  
  

  
  
  <Rule name = "wsa">

    <!-- single line comment -->
    <EolSpan color = "Comment(Line)">'''</EolSpan>
    <!-- multi line comment -->
    <Span color = "Comment(Line)" rule="comment">
      <Begin>"""</Begin>
      <End>"""</End>
    </Span>    
    
    <!-- sq string value -->
    <Match expression="(==?\s*)('(?:\\.|.)*?(?:'|$))">
      <Group color = "Punctuation"/>
      <Group color = "String"/>
    </Match>

    <!-- dq string value -->
    <Match expression="(==?\s*)(&quot;.*?(?:&quot;|$))">
      <Group color = "Punctuation"/>
      <Group color = "String"/>
    </Match>

    <!-- open string value -->
    <Match expression="(==?\s*)([^=:()'&quot;,]*)">
      <Group color = "Punctuation"/>
      <Group color = "String"/>
    </Match>    

    <!-- sq name -->
    <Match color = "Keyword(Type)">'(?:\\.|.)*?(?:'|$)</Match>
    
    <!-- dq name -->
    <Match color = "Keyword(Type)">".*?(?:"|$)</Match>
    
    <!-- open name -->
    <Match color = "Keyword(Type)">\s?[^=:()'",]+</Match>
    
    <Rule name = "comment">
    </Rule>
    
    <Rule name = "delimiter">
    </Rule> 
    
  </Rule>  
  
  <Rule name = "comment">
  </Rule>
  <Rule name = "delimiter">
  </Rule> 
 
  
 
</SyntaxMode>