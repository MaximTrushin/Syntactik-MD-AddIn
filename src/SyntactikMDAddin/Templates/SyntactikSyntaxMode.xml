<?xml version="1.0" encoding="utf-8" ?>
<SyntaxMode name = "syntactik4xml" mimeTypes="text/x-syntactik4xml">


  <!-- single line comment -->
  <EolSpan color = "Comment(Line)" rule="Comment">'''</EolSpan>
  <!-- multi line comment -->
  <Span color = "Comment(Line)" rule="Comment">
    <Begin>"""</Begin>
    <End>"""</End>
  </Span>

<!-- wsa -->
<Span color = "Punctuation" rule ="wsa">
  <Begin>(</Begin>
  <End>)</End>
</Span>

<!-- open string -->
<Span color = "Punctuation" rule ="open_string">
  <Begin>=</Begin>
</Span>

<Rule name = "open_string">
  <Match color = "String">(.*)</Match>
</Rule>  

  <!-- open string -->
  <Match expression="(\s*==\s*)([^=:()'&quot;,]*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <!-- free open string -->
  <Match expression="(\s*=\s*)(.*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>
  

  
  
  <!-- sq name -->
  <Match color = "Keyword(Type)">'(?:\\.|.)*?(?:'|$)</Match>
  <!-- dq name -->
  <Match color = "Keyword(Type)">".*?(?:"|$)</Match>


  <!-- document name -->
  <Match color = "User Types">\s?![^=:()'",]*</Match>

  <!-- alias -->
  <Match color = "Diff Header">\s?\$[^=:()'",]*</Match>

  <!--
  <Match expression="(\#[\w\.\-]+)(\s*=)(.*)">
    <Group color = "Keyword(Declaration)"/>
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <Match expression="(#[\w\-]+.)">
    <Group color = "Keyword(Declaration)"/>
  </Match>

  <Match expression="(\@[\w\.\-]*)">
    <Group color = "String(Escape)"/>
  </Match>

  <Match expression="(\%[\w\.\-]*)">
    <Group color = "Keyword(Exception)"/>
  </Match>

-->

  <!-- open name -->
  <Match color = "Keyword(Type)">\s?[^=:()'",]+</Match>  
  
  
  <Match expression="(=\s*)(`[^\s]*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>

  <Match expression="(=\s*)">
    <Group color = "Punctuation"/>
    <Group color = "String"/>
  </Match>


  
  
  <Rule name = "wsa">
    <!-- string value -->
    <Match expression="(==?\s*)([^\s]*)">
      <Group color = "Punctuation"/>
      <Group color = "String"/>
    </Match>
    
    <!-- sq name -->
    <Match color = "Keyword(Type)">'(?:\\.|.)*?(?:'|$)</Match>
    
    <!-- dq name -->
    <Match color = "Keyword(Type)">".*?(?:"|$)</Match>
    
    <!-- open name -->
    <Match color = "Keyword(Type)">\s?[^=:()'",]+</Match>
    
  </Rule>  
  

  <Rule name = "OpenString">
  </Rule>

  <Rule name = "Comment">
  </Rule>

  <Rule name = "Interpolation">
    <Match color = "Diff Header">\s*\$\$</Match>
    <Match color = "Diff Header">\s*\$\([^\)']*\)?</Match>
    <Match color = "Diff Header">\s*\\[btnvfr'"\\\$]?(u[0-9a-fA-F]{0,4})?</Match>
    <Match color = "Diff Header">\s*\$[^\d\s\'\(\%][\w\.\:]*</Match>
    <Match color = "Diff Header">\s*\$\d{1,5}</Match>
    <Match color = "Diff Header">\s*\$\%[0-9a-fA-F]{1,4}</Match>
    <Match color = "Xml Text">[^\$\s'\\]*</Match>
  </Rule>

  <Rule name = "AttrInterpolation">
    <Match color = "Diff Header">\s*\$\$</Match>
    <Match color = "Diff Header">\s*\$\([^\)']*\)?</Match>
    <Match color = "Diff Header">\s*\\[btnvfr'"\\\$]?(u[0-9a-fA-F]{0,4})?</Match>
    <Match color = "Diff Header">\s*\$[^\d\s\'\(\%][\w\.\:]*</Match>
    <Match color = "Diff Header">\s*\$\d{1,5}</Match>
    <Match color = "Diff Header">\s*\$\%[0-9a-fA-F]{1,4}</Match>
    <Match color = "String">[^\$\s'\\]*</Match>
  </Rule>

  <Rule name = "Alias">
    <Match color = "Plain Text">\,</Match>
  </Rule>
</SyntaxMode>